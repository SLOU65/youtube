# YouTube Mini App TODO

## Основная функциональность

- [x] Многоязычная поддержка (RU/EN)
- [x] Управление YouTube API ключами пользователя
- [x] Шифрование API ключей (AES-256)
- [x] Поиск видео через YouTube Data API
- [x] Получение информации о видео (метаданные, статистика, форматы)
- [x] Получение информации о каналах
- [x] Получение комментариев к видео
- [x] Получение информации о плейлистах
- [x] Получение прямых ссылок на скачивание видео через yt-dlp
- [x] История поиска/просмотров

## База данных

- [x] Таблица для хранения API ключей пользователей
- [x] Таблица для истории запросов
- [x] Миграция схемы базы данных

## Backend API

- [x] tRPC процедура для сохранения/обновления API ключа
- [x] tRPC процедура для получения API ключа пользователя
- [x] tRPC процедура для удаления API ключа
- [x] tRPC процедура для поиска видео
- [x] tRPC процедура для получения информации о видео
- [x] tRPC процедура для получения информации о канале
- [x] tRPC процедура для получения комментариев
- [x] tRPC процедура для получения плейлистов
- [x] tRPC процедура для получения прямой ссылки на скачивание (yt-dlp)
- [x] Интеграция с YouTube Data API v3
- [x] Установка и настройка yt-dlp

## Frontend

- [x] Главная страница с выбором языка
- [x] Страница подключения API ключа
- [x] Страница поиска видео
- [x] Страница отображения информации о видео
- [x] Страница отображения информации о канале
- [x] Компонент переключения языка
- [x] Компонент отображения статистики
- [x] Компонент отображения комментариев
- [x] Адаптивный дизайн для мобильных устройств

## Тестирование

- [x] Vitest тесты для API процедур
- [x] Тестирование шифрования/дешифрования ключей
- [x] Тестирование интеграции с YouTube API


## Новые требования (v2)

- [x] Убрать кнопки скачивания, оставить только ссылку
- [x] Расширить поиск до 1000 результатов
- [x] Добавить фильтры поиска (дата, длительность, качество, тип контента)
- [x] Создать главную страницу как портал YouTube (тренды, категории)
- [x] Добавить просмотр рекомендаций
- [x] Добавить просмотр видео по категориям
- [x] Улучшить UI для мобильных устройств
- [x] Добавить пагинацию для результатов поиска


## Баги для исправления

- [x] Исправить ошибку валидации maxResults - YouTube API имеет лимит 50 результатов за запрос
- [x] Реализовать пагинацию через несколько запросов для получения до 1000 результатов
- [x] Исправить ошибку дублирования ключей в SearchPage - использовать уникальные ключи для каждого результата


## Новые требования (v3)

- [x] Добавить переводы для главного меню на английский
- [ ] Создать раздел рекомендаций как на настоящем YouTube
- [ ] Реализовать получение рекомендуемых видео через YouTube API
